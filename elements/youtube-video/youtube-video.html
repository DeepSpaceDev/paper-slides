<dom-module id="youtube-video">
	<template>
		<style>
			:host {
				display: block;
			}
			#vid{
				position: absolute;
				background-color: #000;
				height: 100%;
				width: 100%;
			}
			#altmenu{
				position: fixed;
				top: 20px;
				left: 20px;
			}
			section{
				width: 100%;
				height: 100%;
			}
		</style>

		<section>
			<google-youtube currenttime="{{videoTime}}" hl="en" cc_load_policy="0" autoplay="1" id="vid" width="100%" height="99.5%" video-id="{{videoUrl}}" chromeless></google-youtube>
			<toolbar-toggler></toolbar-toggler>
		</section>
		
	</template>
	<script>
		var player;
		var pauseon = [3, 28, 58, 72, 90, 96, 104, 108, 113, 117, 119, 129, 136, 143, 150, 177, 183, 208, 214, 220, 229, 240, 250, 256, 265];
		var skipto = [12, 20, 160, 168, 194, 205, 287, 211] //[from, to, from2, to2, ...]
		
		Polymer({
			is: 'youtube-video',

			properies: {
				videoUrl: String
			},

			attached: function(){
				player = this.$.vid;
				player.addEventListener("google-youtube-ready", function(){
					player.mute();
					setInterval(function(){

						if(player.currenttime == pauseon[0]){
							player.pause();
							pauseon.shift(); //remove first element
						}

						if(player.currenttime == skipto[0]){
							player.pause();
							skipto.shift(); //remove first element
							player.seekTo(skipto[0]);
							skipto.shift();
						}

					}, 100);
				});
			}
		});

				/*var player;
		var pauseon = [3, 28, 58, 72, 90, 96, 104, 108, 113, 117, 119, 129, 136, 143, 150, 177, 183, 208, 214, 220, 229, 240, 250, 256, 265];
		var skipto = [12, 20, 160, 168, 194, 205, 287, 211] //[from, to, from2, to2, ...]

		Polymer({
			is: 'youtube-video',

			properties: {
				videoUrl: String,
				videoTime: {
					type: Number,
					observer: 'timeChanged'
				}
			},

			attached: function(){
				player = qs('#vid');
				player.addEventListener("google-youtube-ready", function(){
					player.mute();
				});
			},

			timeChanged: function(){
				l('observer');
				if(player.currenttime == pauseon[0]){
					player.pause();
					pauseon.shift(); //remove first element
				}

				if(player.currenttime == skipto[0]){
					player.pause();
					skipto.shift(); //remove first element
					player.seekTo(skipto[0]);
					skipto.shift();
				}
			}
		});*/	
	</script>
</dom-module>